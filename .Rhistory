scale_y_continuous(expand = c(0, 0)) +
theme_bw() +
labs(x = "Trial ID", y = "Reward")
my_two_seeds <- c(997733, 49015499)
set.seed(my_two_seeds[1])
mu_init <- rnorm(4, 50, 3)
tbl_4a_rlb1 <- generate_restless_bandits(
sigma_xi_sq = 7.84, sigma_epsilon_sq = 16, mu1 = mu_init,
lambda = .9836, nr_trials = 200, center_decay = 50
)
ggplot(tbl_4a_rlb1 %>% pivot_longer(c(`Arm 1`, `Arm 2`, `Arm 3`, `Arm 4`)), aes(trial_id, value, group = name)) +
geom_line(aes(color = name), size = .75) +
scale_color_viridis_d(name = "") +
scale_x_continuous(expand = c(0, 0)) +
scale_y_continuous(expand = c(0, 0)) +
theme_bw() +
labs(x = "Trial ID", y = "Reward")
set.seed(my_two_seeds[2])
mu_init <- rnorm(4, 50, 3)
tbl_4a_rlb2 <- generate_restless_bandits(
sigma_xi_sq = 7.84, sigma_epsilon_sq = 16, mu1 = mu_init,
lambda = .9836, nr_trials = 200, center_decay = 50
)
ggplot(tbl_4a_rlb2 %>% pivot_longer(c(`Arm 1`, `Arm 2`, `Arm 3`, `Arm 4`)), aes(trial_id, value, group = name)) +
geom_line(aes(color = name), size = .75) +
scale_color_viridis_d(name = "") +
scale_x_continuous(expand = c(0, 0)) +
scale_y_continuous(expand = c(0, 0)) +
theme_bw() +
labs(x = "Trial ID", y = "Reward")
View(tbl_4a_rlb1)
my_two_seeds <- c(997733, 49015499)
set.seed(my_two_seeds[1])
mu_init <- rnorm(4, 50, 3)
tbl_4a_rlb1 <- generate_restless_bandits(
sigma_xi_sq = 7.84, sigma_epsilon_sq = 16, mu1 = mu_init,
lambda = .9836, nr_trials = 200, center_decay = 50
)
ggplot(tbl_4a_rlb1 %>% pivot_longer(c(`Arm 1`, `Arm 2`, `Arm 3`, `Arm 4`)), aes(trial_id, value, group = name)) +
geom_line(aes(color = name), size = .75) +
scale_color_viridis_d(name = "") +
scale_x_continuous(expand = c(0, 0)) +
scale_y_continuous(expand = c(0, 0)) +
theme_bw() +
labs(x = "Trial ID", y = "Reward")
# second random walk
set.seed(my_two_seeds[2])
mu_init <- rnorm(4, 50, 3)
tbl_4a_rlb2 <- generate_restless_bandits(
sigma_xi_sq = 7.84, sigma_epsilon_sq = 16, mu1 = mu_init,
lambda = .9836, nr_trials = 200, center_decay = 50
)
ggplot(tbl_4a_rlb2 %>% pivot_longer(c(`Arm 1`, `Arm 2`, `Arm 3`, `Arm 4`)), aes(trial_id, value, group = name)) +
geom_line(aes(color = name), size = .75) +
scale_color_viridis_d(name = "") +
scale_x_continuous(expand = c(0, 0)) +
scale_y_continuous(expand = c(0, 0)) +
theme_bw() +
labs(x = "Trial ID", y = "Reward")
## make practice trials
tbl_4a_rlb_practice <- generate_restless_bandits(
sigma_xi_sq = 7.84, sigma_epsilon_sq = 16, mu1 = mu_init,
lambda = .9836, nr_trials = 200, center_decay = 50
)
tbl_4a_rlb1$block <- 2
tbl_4a_rlb2$block <- 3
tbl_4a_rlb_practice$block <- 1
tbl_4a_rlb_practice <- subset(tbl_4a_rlb_practice, trial_id >= 100)
tbl_4a_rlb_practice$trial_id <- 1:nrow(tbl_4a_rlb_practice)
rewards <- rbind(tbl_4a_rlb_practice, tbl_4a_rlb1, tbl_4a_rlb2)
## save as json
nBlocks <- 3 # 1 for practice, 2 walks we are testing
nTrials <- c(10,200, 200)# first is practice
ls = list()
for (i in 1:nBlocks){
block = list()
for (j in 1:nTrials[i]){
re <- c(round(rewards$`Arm 1`[rewards$block == i & rewards$trial_id == j]),
round(rewards$`Arm 2`[rewards$block == i & rewards$trial_id == j]),
round(rewards$`Arm 3`[rewards$block == i & rewards$trial_id == j]),
round(rewards$`Arm 4`[rewards$block == i & rewards$trial_id == j]))
block[[j]] <- re
}
ls[[i]] <- block
}
library(jsonlite)
json = toJSON(ls)
write(json, paste("../task/rewards4ARB_testing", session_id, ".json", sep = ""))
write(json, paste("../pilot4arb/rewards4ARB", session_id, ".json", sep = ""))
setwd("/Users/kwitte/Documents/GitHub/exploration-psychometrics")
# select required directory by setting data_idx index
data_idx <- 3
rel_dir_data_bandits <- c("data/pilot/bandits/", "data/2023-11-lab-pilot/bandits/", "pilot4arb")[data_idx]
session = 1
nBlocksH = 80
nTrialsH = 10
nBlocksS = 30
nTrialsS = 10
nBlocksR = 1
nTrialsR = 200
files = list.files(path = rel_dir_data_bandits)
files <- files[!grepl("temp", files)]
lookup <- data.frame(PID = rep(NA, length(files)),
ID = 1:length(files))
bonus <- data.frame(ID = rep(NA, length(files)),
TotalBonus = NA,
Horizon = NA,
Sam = NA,
Restless = NA)
horizon <- data.frame(ID = rep(1:length(files), each = nBlocksH*nTrialsH),
block = rep(rep(1:nBlocksH, each = nTrialsH), length(files)),
trial = rep(1:nTrialsH, nBlocksH*length(files)),
chosen = NA,
reward = NA,
rt = NA,
session = session)
sam <- data.frame(ID = rep(1:length(files), each = nBlocksS*nTrialsS),
block = rep(rep(1:nBlocksS, each = nTrialsS), length(files)),
trial = rep(1:nTrialsS, nBlocksS*length(files)),
chosen = NA,
reward = NA,
rt = NA,
session = session)
restless <- data.frame(ID = rep(1:length(files), each = nTrialsR),
trial = 1:nTrialsR,
chosen = NA,
reward = NA,
rt = NA,
session = session)
for (i in 1:length(files)){
temp <- fromJSON(paste(rel_dir_data_bandits,files[i], sep = ""))
# add PID into lookup
lookup$PID[i] <- temp$subjectID
### Horizon task
for (block in 2:(nBlocksH+1)){# bc block 1 is practice
for (trial in 1:nTrialsH){
if (length(temp$horizon$choice[[block]]) < trial){next}
horizon$chosen[horizon$ID == i & horizon$block == block-1 & horizon$trial == trial] <- temp$horizon$choice[[block]][[trial]]
horizon$reward[horizon$ID == i & horizon$block == block-1 & horizon$trial == trial] <- temp$horizon$reward[[block]][[trial]]
horizon$rt[horizon$ID == i & horizon$block == block-1 & horizon$trial == trial] <- temp$horizon$time[[block]][[trial]]
}
horizon$info[horizon$ID == i & horizon$block == block-1] <- length(horizon$chosen[horizon$ID == i & horizon$block == block-1&horizon$chosen == 0 & horizon$trial < 5]) -
length(horizon$chosen[horizon$ID == i & horizon$block == block-1 & horizon$chosen == 1& horizon$trial < 5])
}
### Sam's task
for (block in 2:(nBlocksS+1)){# bc block 1 is practice
for (trial in 1:nTrialsS){
sam$chosen[sam$ID == i & sam$block == block-1 & sam$trial == trial] <- temp$sam$choice[[block]][[trial]]
sam$reward[sam$ID == i & sam$block == block-1 & sam$trial == trial] <- temp$sam$reward[[block]][[trial]]
sam$rt[sam$ID == i & sam$block == block-1 & sam$trial == trial] <- temp$sam$time[[block]][[trial]]
}
}
## restless
for (trial in 1:nTrialsR){
restless$chosen[restless$ID == i & restless$trial == trial] <- temp$restless$choice[[2]][[trial]]
restless$reward[restless$ID == i & restless$trial == trial] <- temp$restless$reward[[2]][[trial]]
restless$rt[restless$ID == i & restless$trial == trial] <- temp$restless$time[[2]][[trial]]
}
}
rel_dir_data_bandits <- c("data/pilot/bandits/", "data/2023-11-lab-pilot/bandits/", "pilot4arb/")[data_idx]
session = 1
nBlocksH = 80
nTrialsH = 10
nBlocksS = 30
nTrialsS = 10
nBlocksR = 1
nTrialsR = 200
files = list.files(path = rel_dir_data_bandits)
files <- files[!grepl("temp", files)]
lookup <- data.frame(PID = rep(NA, length(files)),
ID = 1:length(files))
bonus <- data.frame(ID = rep(NA, length(files)),
TotalBonus = NA,
Horizon = NA,
Sam = NA,
Restless = NA)
horizon <- data.frame(ID = rep(1:length(files), each = nBlocksH*nTrialsH),
block = rep(rep(1:nBlocksH, each = nTrialsH), length(files)),
trial = rep(1:nTrialsH, nBlocksH*length(files)),
chosen = NA,
reward = NA,
rt = NA,
session = session)
sam <- data.frame(ID = rep(1:length(files), each = nBlocksS*nTrialsS),
block = rep(rep(1:nBlocksS, each = nTrialsS), length(files)),
trial = rep(1:nTrialsS, nBlocksS*length(files)),
chosen = NA,
reward = NA,
rt = NA,
session = session)
restless <- data.frame(ID = rep(1:length(files), each = nTrialsR),
trial = 1:nTrialsR,
chosen = NA,
reward = NA,
rt = NA,
session = session)
for (i in 1:length(files)){
temp <- fromJSON(paste(rel_dir_data_bandits,files[i], sep = ""))
# add PID into lookup
lookup$PID[i] <- temp$subjectID
### Horizon task
for (block in 2:(nBlocksH+1)){# bc block 1 is practice
for (trial in 1:nTrialsH){
if (length(temp$horizon$choice[[block]]) < trial){next}
horizon$chosen[horizon$ID == i & horizon$block == block-1 & horizon$trial == trial] <- temp$horizon$choice[[block]][[trial]]
horizon$reward[horizon$ID == i & horizon$block == block-1 & horizon$trial == trial] <- temp$horizon$reward[[block]][[trial]]
horizon$rt[horizon$ID == i & horizon$block == block-1 & horizon$trial == trial] <- temp$horizon$time[[block]][[trial]]
}
horizon$info[horizon$ID == i & horizon$block == block-1] <- length(horizon$chosen[horizon$ID == i & horizon$block == block-1&horizon$chosen == 0 & horizon$trial < 5]) -
length(horizon$chosen[horizon$ID == i & horizon$block == block-1 & horizon$chosen == 1& horizon$trial < 5])
}
### Sam's task
for (block in 2:(nBlocksS+1)){# bc block 1 is practice
for (trial in 1:nTrialsS){
sam$chosen[sam$ID == i & sam$block == block-1 & sam$trial == trial] <- temp$sam$choice[[block]][[trial]]
sam$reward[sam$ID == i & sam$block == block-1 & sam$trial == trial] <- temp$sam$reward[[block]][[trial]]
sam$rt[sam$ID == i & sam$block == block-1 & sam$trial == trial] <- temp$sam$time[[block]][[trial]]
}
}
## restless
for (trial in 1:nTrialsR){
restless$chosen[restless$ID == i & restless$trial == trial] <- temp$restless$choice[[2]][[trial]]
restless$reward[restless$ID == i & restless$trial == trial] <- temp$restless$reward[[2]][[trial]]
restless$rt[restless$ID == i & restless$trial == trial] <- temp$restless$time[[2]][[trial]]
}
}
rel_dir_data_bandits <- c("data/pilot/bandits/", "data/2023-11-lab-pilot/bandits/", "data/pilot4arb/")[data_idx]
session = 1
nBlocksH = 80
nTrialsH = 10
nBlocksS = 30
nTrialsS = 10
nBlocksR = 1
nTrialsR = 200
files = list.files(path = rel_dir_data_bandits)
files <- files[!grepl("temp", files)]
lookup <- data.frame(PID = rep(NA, length(files)),
ID = 1:length(files))
bonus <- data.frame(ID = rep(NA, length(files)),
TotalBonus = NA,
Horizon = NA,
Sam = NA,
Restless = NA)
horizon <- data.frame(ID = rep(1:length(files), each = nBlocksH*nTrialsH),
block = rep(rep(1:nBlocksH, each = nTrialsH), length(files)),
trial = rep(1:nTrialsH, nBlocksH*length(files)),
chosen = NA,
reward = NA,
rt = NA,
session = session)
sam <- data.frame(ID = rep(1:length(files), each = nBlocksS*nTrialsS),
block = rep(rep(1:nBlocksS, each = nTrialsS), length(files)),
trial = rep(1:nTrialsS, nBlocksS*length(files)),
chosen = NA,
reward = NA,
rt = NA,
session = session)
restless <- data.frame(ID = rep(1:length(files), each = nTrialsR),
trial = 1:nTrialsR,
chosen = NA,
reward = NA,
rt = NA,
session = session)
for (i in 1:length(files)){
temp <- fromJSON(paste(rel_dir_data_bandits,files[i], sep = ""))
# add PID into lookup
lookup$PID[i] <- temp$subjectID
### Horizon task
for (block in 2:(nBlocksH+1)){# bc block 1 is practice
for (trial in 1:nTrialsH){
if (length(temp$horizon$choice[[block]]) < trial){next}
horizon$chosen[horizon$ID == i & horizon$block == block-1 & horizon$trial == trial] <- temp$horizon$choice[[block]][[trial]]
horizon$reward[horizon$ID == i & horizon$block == block-1 & horizon$trial == trial] <- temp$horizon$reward[[block]][[trial]]
horizon$rt[horizon$ID == i & horizon$block == block-1 & horizon$trial == trial] <- temp$horizon$time[[block]][[trial]]
}
horizon$info[horizon$ID == i & horizon$block == block-1] <- length(horizon$chosen[horizon$ID == i & horizon$block == block-1&horizon$chosen == 0 & horizon$trial < 5]) -
length(horizon$chosen[horizon$ID == i & horizon$block == block-1 & horizon$chosen == 1& horizon$trial < 5])
}
### Sam's task
for (block in 2:(nBlocksS+1)){# bc block 1 is practice
for (trial in 1:nTrialsS){
sam$chosen[sam$ID == i & sam$block == block-1 & sam$trial == trial] <- temp$sam$choice[[block]][[trial]]
sam$reward[sam$ID == i & sam$block == block-1 & sam$trial == trial] <- temp$sam$reward[[block]][[trial]]
sam$rt[sam$ID == i & sam$block == block-1 & sam$trial == trial] <- temp$sam$time[[block]][[trial]]
}
}
## restless
for (trial in 1:nTrialsR){
restless$chosen[restless$ID == i & restless$trial == trial] <- temp$restless$choice[[2]][[trial]]
restless$reward[restless$ID == i & restless$trial == trial] <- temp$restless$reward[[2]][[trial]]
restless$rt[restless$ID == i & restless$trial == trial] <- temp$restless$time[[2]][[trial]]
}
}
session = 1
nBlocksH = 80
nTrialsH = 10
nBlocksS = 30
nTrialsS = 10
nBlocksR = 1
nTrialsR = 200
files = list.files(path = rel_dir_data_bandits)
files <- files[!grepl("temp", files)]
lookup <- data.frame(PID = rep(NA, length(files)),
ID = 1:length(files))
bonus <- data.frame(ID = rep(NA, length(files)),
TotalBonus = NA,
Horizon = NA,
Sam = NA,
Restless = NA)
horizon <- data.frame(ID = rep(1:length(files), each = nBlocksH*nTrialsH),
block = rep(rep(1:nBlocksH, each = nTrialsH), length(files)),
trial = rep(1:nTrialsH, nBlocksH*length(files)),
chosen = NA,
reward = NA,
rt = NA,
session = session)
sam <- data.frame(ID = rep(1:length(files), each = nBlocksS*nTrialsS),
block = rep(rep(1:nBlocksS, each = nTrialsS), length(files)),
trial = rep(1:nTrialsS, nBlocksS*length(files)),
chosen = NA,
reward = NA,
rt = NA,
session = session)
restless <- data.frame(ID = rep(1:length(files), each = nTrialsR),
trial = 1:nTrialsR,
chosen = NA,
reward = NA,
rt = NA,
session = session)
for (i in 1:length(files)){
temp <- fromJSON(paste(rel_dir_data_bandits,files[i], sep = ""))
# add PID into lookup
lookup$PID[i] <- temp$subjectID
# ### Horizon task
# for (block in 2:(nBlocksH+1)){# bc block 1 is practice
#   for (trial in 1:nTrialsH){
#     if (length(temp$horizon$choice[[block]]) < trial){next}
#     horizon$chosen[horizon$ID == i & horizon$block == block-1 & horizon$trial == trial] <- temp$horizon$choice[[block]][[trial]]
#     horizon$reward[horizon$ID == i & horizon$block == block-1 & horizon$trial == trial] <- temp$horizon$reward[[block]][[trial]]
#     horizon$rt[horizon$ID == i & horizon$block == block-1 & horizon$trial == trial] <- temp$horizon$time[[block]][[trial]]
#   }
#   horizon$info[horizon$ID == i & horizon$block == block-1] <- length(horizon$chosen[horizon$ID == i & horizon$block == block-1&horizon$chosen == 0 & horizon$trial < 5]) -
#     length(horizon$chosen[horizon$ID == i & horizon$block == block-1 & horizon$chosen == 1& horizon$trial < 5])
#
#
# }
#
# ### Sam's task
# for (block in 2:(nBlocksS+1)){# bc block 1 is practice
#   for (trial in 1:nTrialsS){
#     sam$chosen[sam$ID == i & sam$block == block-1 & sam$trial == trial] <- temp$sam$choice[[block]][[trial]]
#     sam$reward[sam$ID == i & sam$block == block-1 & sam$trial == trial] <- temp$sam$reward[[block]][[trial]]
#     sam$rt[sam$ID == i & sam$block == block-1 & sam$trial == trial] <- temp$sam$time[[block]][[trial]]
#   }
#
# }
## restless
for (trial in 1:nTrialsR){
restless$chosen[restless$ID == i & restless$trial == trial] <- temp$restless$choice[[2]][[trial]]
restless$reward[restless$ID == i & restless$trial == trial] <- temp$restless$reward[[2]][[trial]]
restless$rt[restless$ID == i & restless$trial == trial] <- temp$restless$time[[2]][[trial]]
}
}
View(restless)
session = 1
nBlocksH = 80
nTrialsH = 10
nBlocksS = 30
nTrialsS = 10
nBlocksR = 2
nTrialsR = 200
files = list.files(path = rel_dir_data_bandits)
files <- files[!grepl("temp", files)]
lookup <- data.frame(PID = rep(NA, length(files)),
ID = 1:length(files))
bonus <- data.frame(ID = rep(NA, length(files)),
TotalBonus = NA,
Horizon = NA,
Sam = NA,
Restless = NA)
horizon <- data.frame(ID = rep(1:length(files), each = nBlocksH*nTrialsH),
block = rep(rep(1:nBlocksH, each = nTrialsH), length(files)),
trial = rep(1:nTrialsH, nBlocksH*length(files)),
chosen = NA,
reward = NA,
rt = NA,
session = session)
sam <- data.frame(ID = rep(1:length(files), each = nBlocksS*nTrialsS),
block = rep(rep(1:nBlocksS, each = nTrialsS), length(files)),
trial = rep(1:nTrialsS, nBlocksS*length(files)),
chosen = NA,
reward = NA,
rt = NA,
session = session)
restless <- data.frame(ID = rep(1:length(files), each = nTrialsR),
trial = 1:nTrialsR,
chosen = NA,
reward = NA,
rt = NA,
session = session)
for (i in 1:length(files)){
temp <- fromJSON(paste(rel_dir_data_bandits,files[i], sep = ""))
# add PID into lookup
lookup$PID[i] <- temp$subjectID
# ### Horizon task
# for (block in 2:(nBlocksH+1)){# bc block 1 is practice
#   for (trial in 1:nTrialsH){
#     if (length(temp$horizon$choice[[block]]) < trial){next}
#     horizon$chosen[horizon$ID == i & horizon$block == block-1 & horizon$trial == trial] <- temp$horizon$choice[[block]][[trial]]
#     horizon$reward[horizon$ID == i & horizon$block == block-1 & horizon$trial == trial] <- temp$horizon$reward[[block]][[trial]]
#     horizon$rt[horizon$ID == i & horizon$block == block-1 & horizon$trial == trial] <- temp$horizon$time[[block]][[trial]]
#   }
#   horizon$info[horizon$ID == i & horizon$block == block-1] <- length(horizon$chosen[horizon$ID == i & horizon$block == block-1&horizon$chosen == 0 & horizon$trial < 5]) -
#     length(horizon$chosen[horizon$ID == i & horizon$block == block-1 & horizon$chosen == 1& horizon$trial < 5])
#
#
# }
#
# ### Sam's task
# for (block in 2:(nBlocksS+1)){# bc block 1 is practice
#   for (trial in 1:nTrialsS){
#     sam$chosen[sam$ID == i & sam$block == block-1 & sam$trial == trial] <- temp$sam$choice[[block]][[trial]]
#     sam$reward[sam$ID == i & sam$block == block-1 & sam$trial == trial] <- temp$sam$reward[[block]][[trial]]
#     sam$rt[sam$ID == i & sam$block == block-1 & sam$trial == trial] <- temp$sam$time[[block]][[trial]]
#   }
#
# }
## restless
for (trial in 1:nTrialsR){
restless$chosen[restless$ID == i & restless$trial == trial] <- temp$restless$choice[[2]][[trial]]
restless$reward[restless$ID == i & restless$trial == trial] <- temp$restless$reward[[2]][[trial]]
restless$rt[restless$ID == i & restless$trial == trial] <- temp$restless$time[[2]][[trial]]
}
}
session = 1
nBlocksH = 80
nTrialsH = 10
nBlocksS = 30
nTrialsS = 10
nBlocksR = 2
nTrialsR = 200
files = list.files(path = rel_dir_data_bandits)
files <- files[!grepl("temp", files)]
lookup <- data.frame(PID = rep(NA, length(files)),
ID = 1:length(files))
bonus <- data.frame(ID = rep(NA, length(files)),
TotalBonus = NA,
Horizon = NA,
Sam = NA,
Restless = NA)
horizon <- data.frame(ID = rep(1:length(files), each = nBlocksH*nTrialsH),
block = rep(rep(1:nBlocksH, each = nTrialsH), length(files)),
trial = rep(1:nTrialsH, nBlocksH*length(files)),
chosen = NA,
reward = NA,
rt = NA,
session = session)
sam <- data.frame(ID = rep(1:length(files), each = nBlocksS*nTrialsS),
block = rep(rep(1:nBlocksS, each = nTrialsS), length(files)),
trial = rep(1:nTrialsS, nBlocksS*length(files)),
chosen = NA,
reward = NA,
rt = NA,
session = session)
restless <- data.frame(ID = rep(1:length(files), each = nTrialsR),
trial = 1:nTrialsR,
chosen = NA,
reward = NA,
rt = NA,
session = session)
for (i in 1:length(files)){
temp <- fromJSON(paste(rel_dir_data_bandits,files[i], sep = ""))
# add PID into lookup
lookup$PID[i] <- temp$subjectID
# ### Horizon task
# for (block in 2:(nBlocksH+1)){# bc block 1 is practice
#   for (trial in 1:nTrialsH){
#     if (length(temp$horizon$choice[[block]]) < trial){next}
#     horizon$chosen[horizon$ID == i & horizon$block == block-1 & horizon$trial == trial] <- temp$horizon$choice[[block]][[trial]]
#     horizon$reward[horizon$ID == i & horizon$block == block-1 & horizon$trial == trial] <- temp$horizon$reward[[block]][[trial]]
#     horizon$rt[horizon$ID == i & horizon$block == block-1 & horizon$trial == trial] <- temp$horizon$time[[block]][[trial]]
#   }
#   horizon$info[horizon$ID == i & horizon$block == block-1] <- length(horizon$chosen[horizon$ID == i & horizon$block == block-1&horizon$chosen == 0 & horizon$trial < 5]) -
#     length(horizon$chosen[horizon$ID == i & horizon$block == block-1 & horizon$chosen == 1& horizon$trial < 5])
#
#
# }
#
# ### Sam's task
# for (block in 2:(nBlocksS+1)){# bc block 1 is practice
#   for (trial in 1:nTrialsS){
#     sam$chosen[sam$ID == i & sam$block == block-1 & sam$trial == trial] <- temp$sam$choice[[block]][[trial]]
#     sam$reward[sam$ID == i & sam$block == block-1 & sam$trial == trial] <- temp$sam$reward[[block]][[trial]]
#     sam$rt[sam$ID == i & sam$block == block-1 & sam$trial == trial] <- temp$sam$time[[block]][[trial]]
#   }
#
# }
## restless
# for (trial in 1:nTrialsR){
#   restless$chosen[restless$ID == i & restless$trial == trial] <- temp$restless$choice[[2]][[trial]]
#   restless$reward[restless$ID == i & restless$trial == trial] <- temp$restless$reward[[2]][[trial]]
#   restless$rt[restless$ID == i & restless$trial == trial] <- temp$restless$time[[2]][[trial]]
# }
## version of restless for pilot
for (block in 1:nBlocksR){
for (trial in 1:nTrialsR){
restless$chosen[restless$ID == i & restless$trial == trial] <- temp$restless$choice[[2]][[trial]]
restless$reward[restless$ID == i & restless$trial == trial] <- temp$restless$reward[[2]][[trial]]
restless$rt[restless$ID == i & restless$trial == trial] <- temp$restless$time[[2]][[trial]]
}
}
}
